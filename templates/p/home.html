{% extends "comp/b.html" %} {% load static %} {% block title %}Display text{% endblock %} {% block content %}
  <h1 class="text-3xl font-semibold" id="pass-used-teller"></h1>
  <hr class="sidebar-divider my-2" />
  <p class="mb-2 text-lg">If you can't see what you are searching for, you can click on the course and
    <button id="cr-btn py-1 px-2 border bg-gray-300 text-blue-300">CONTROL + F</button> 
    (to find what you are looking for in one page)</p>
  <ul
    class="flex flex-wrap gap-2 my-10 mx-0 flex-row justify-start items-start"
  >
    {% for chapter in chapters %}
    <li
      onClick="window.location.href=`/ex/c/{{ chapter.id }}/`"
      class="flex justify-center items-center bg-slate-400 cursor-pointer hover:bg-slate-800 rounded-lg shadow-md py-2 px-4"
      id="{{ chapter.id }}"
    >
      <span class="text-base text-gray-200 font-semibold"
        >{{ chapter.title }}</span
      >
    </li>
    {% empty %}
    <h2>
      No recent past question here to show.
      <!-- <a href="/ex/upload/">Upload a .docx file!</a> -->
    </h2>
    {% endfor %}
  </ul>
<script>
  function getCookie(cname) {
    let name = cname + "=";
    let decodedCookie = decodeURIComponent(document.cookie);
    let ca = decodedCookie.split(";");
    for (let i = 0; i < ca.length; i++) {
      let c = ca[i];
      while (c.charAt(0) == " ") {
        c = c.substring(1);
      }
      if (c.indexOf(name) == 0) {
        return c.substring(name.length, c.length);
      }
    }
    return "";
  }
  var teller = document.getElementById("pass-used-teller");
  let used_count = parseInt(getCookie("pass-code-used"));
  used_count =
    used_count === 1
      ? "First Time (<span style='color: red'>1 left</span>)"
      : "Second Time (<span style='color: red'>last üôÖüèæ‚Äç‚ôÄÔ∏è</span>)";
  if (used_count === "" || used_count > 2) {
    window.location.reload();
  } else {
    teller.innerHTML = `Your Pass has been used for the ${used_count}`;
  }
</script>
<script>
  document.getElementById("cr-btn").addEventListener('click', function(element){
    let crkeydown = new KeyboardEvent('keydown', {key: 'Control', code: 'ControlLeft', keyCode: 17, ctrlKey: true});
    let keydown = new KeyboardEvent('keydown', {key: 'f', code: 'KeyF', keyCode: 70, ctrlKey: true});
    element.dispatchEvent(crkeydown); // element is the one you want to trigger the event
    element.dispatchEvent(keydown); // element is the one you want to trigger the event
});
</script>
{% endblock %}
